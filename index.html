<!doctype html>

<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BlackTea POS v8</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header style="display:flex;justify-content:space-between;align-items:center;padding:8px 0">
      <h1 id="brand" style="cursor:pointer">BlackTea POS</h1>
      <div style="display:flex;gap:8px;align-items:center">
        <button class="btn btn-light" onclick="openHistory()" title="L·ªãch s·ª≠">üìú</button>
        <button class="btn btn-light" onclick="openSettings()" title="C√†i ƒë·∫∑t">‚öôÔ∏è</button>
      </div>
    </header>

```
<!-- M√†n h√¨nh danh s√°ch b√†n -->
<main id="table-screen">
  <div style="margin-bottom:12px;display:flex;gap:8px">
    <button id="takeaway-btn" class="btn btn-primary">Kh√°ch mang ƒëi</button>
    <button id="dinein-btn" class="btn btn-secondary">Kh√°ch t·∫°i qu√°n</button>
  </div>
  <h2>B√†n ƒëang ph·ª•c v·ª•</h2>
  <div id="tables" class="table-grid"></div>
</main>

<!-- M√†n h√¨nh order -->
<main id="menu-screen" style="display:none">
  <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
    <button class="btn btn-light" onclick="backToTables()">‚Üê Quay l·∫°i</button>
    <h2 id="table-title" style="margin:0"></h2>
  </div>

  <div id="category-bar" class="category-bar"></div>
  <div id="menu-list" class="menu-list" style="display:none"></div>

  <section class="cart-section">
    <h3>H√≥a ƒë∆°n</h3>
    <ul id="cart-list" class="cart-list"></ul>
    <div class="cart-summary">
      <div style="font-weight:700">T·ªïng: <span id="total">0</span> VND</div>
      <div class="cart-actions" id="primary-actions" style="display:none">
        <button id="cancel-order-btn" class="btn btn-action">H·ªßy ƒë∆°n</button>
        <button id="save-btn" class="btn btn-action primary">L∆∞u ƒë∆°n</button>
      </div>
      <div class="cart-actions" id="table-actions" style="display:none">
        <button id="addmore-btn" class="btn btn-action">+ Th√™m m√≥n</button>
        <button id="pay-btn" class="btn btn-action primary">Thanh to√°n</button>
      </div>
    </div>
  </section>
</main>

<!-- M√†n h√¨nh thanh to√°n -->
<main id="payment-screen" style="display:none">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h2>Thanh to√°n - <span id="pay-table-name"></span></h2>
    <button class="btn btn-light" onclick="closePayment()">‚Üê Quay l·∫°i</button>
  </div>
  <div id="pay-bill" style="margin-top:8px"></div>
  <div style="margin-top:8px">
    <label>Chi·∫øt kh·∫•u: <input id="discount-input" placeholder="0 ho·∫∑c 5%" /></label>
  </div>
  <div style="margin-top:8px;font-weight:700">T·ªïng sau chi·∫øt kh·∫•u: <span id="pay-final-total">0</span> VND</div>
  <div style="margin-top:12px;display:flex;gap:8px">
    <button class="btn btn-secondary" onclick="closePayment()">Quay l·∫°i</button>
    <button class="btn btn-primary" onclick="confirmPayment()">Xu·∫•t h√≥a ƒë∆°n</button>
  </div>
</main>

<!-- M√†n h√¨nh c√†i ƒë·∫∑t -->
<main id="settings-screen" style="display:none">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h2>C√†i ƒë·∫∑t</h2>
    <button class="btn btn-light" onclick="backToTables()">‚Üê Quay l·∫°i</button>
  </div>
  <div style="margin-top:12px;display:flex;flex-direction:column;gap:8px">
    <button class="settings-line btn btn-secondary" onclick="openMenuSettings()">üìã C√†i ƒë·∫∑t Menu</button>
    <button class="settings-line btn btn-secondary" onclick="openPrinterSettings()">üñ®Ô∏è C√†i ƒë·∫∑t M√°y in</button>
  </div>
</main>

<!-- M√†n h√¨nh c√†i ƒë·∫∑t menu -->
<main id="menu-settings-screen" style="display:none">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h2>C√†i ƒë·∫∑t Menu</h2>
    <button class="btn btn-light" onclick="openSettings()">‚Üê Quay l·∫°i</button>
  </div>
  <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px">
    <div style="flex:1;min-width:220px">
      <h4>Danh m·ª•c</h4>
      <div style="margin-bottom:8px">
        <input id="new-cat-name" placeholder="Danh m·ª•c" />
        <button class="btn btn-secondary" onclick="addCategory()">Th√™m DM</button>
      </div>
      <ul id="categories-list" class="cart-list"></ul>
    </div>
    <div style="flex:2;min-width:260px">
      <h4>Qu·∫£n l√Ω M√≥n</h4>
      <div style="display:flex;gap:6px;align-items:center;margin-bottom:8px">
        <select id="cat-select"></select>
        <input id="new-item-name" placeholder="T√™n m√≥n" />
        <input id="new-item-price" placeholder="Gi√°" type="number" />
        <button class="btn btn-primary" onclick="addMenuItem()">Th√™m m√≥n</button>
      </div>
      <ul id="menu-settings-list" class="cart-list"></ul>
    </div>
  </div>
</main>

<!-- M√†n h√¨nh c√†i ƒë·∫∑t in -->
<main id="printer-settings-screen" style="display:none">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h2>C√†i ƒë·∫∑t M√°y in</h2>
    <button class="btn btn-light" onclick="openSettings()">‚Üê Quay l·∫°i</button>
  </div>
  <div style="margin-top:8px">
    <label>Kh·ªï gi·∫•y:
      <select id="paper-size">
        <option value="58">58mm</option>
        <option value="80">80mm</option>
      </select>
    </label><br/>
    <label><input type="checkbox" id="print-name" checked> In t√™n qu√°n</label><br/>
    <button class="btn btn-primary" onclick="printTest()">In th·ª≠</button>
  </div>
</main>

<!-- M√†n h√¨nh l·ªãch s·ª≠ -->
<main id="history-screen" style="display:none">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h2>L·ªãch s·ª≠</h2>
    <div style="display:flex;gap:8px;align-items:center">
      <input type="date" id="history-date" />
      <button class="btn btn-secondary" onclick="clearDateFilter()">X√≥a</button>
      <button class="btn btn-light" onclick="backToTables()">‚Üê Quay l·∫°i</button>
    </div>
  </div>
  <div id="history-container" style="margin-top:8px"></div>
</main>
```

  </div>

  <!-- Popup ch·ªçn b√†n -->

  <div id="table-popup" style="display:none;
    position:fixed;top:0;left:0;right:0;bottom:0;
    background:rgba(0,0,0,0.5);z-index:999;
    align-items:center;justify-content:center">

```
<div style="background:#fff;padding:16px;border-radius:12px;
            max-width:400px;width:100%;max-height:90vh;overflow:auto">
  
  <div style="display:flex;gap:8px;margin-bottom:12px;justify-content:center">
    <button id="ground-btn" class="btn btn-primary">T·∫ßng tr·ªát</button>
    <button id="upstairs-btn" class="btn btn-secondary">T·∫ßng l·∫ßu</button>
  </div>

  <!-- T·∫ßng tr·ªát -->
  <div id="ground-floor">
    <h4>Ngo√†i tr·ªùi</h4>
    <div style="display:flex;gap:8px;margin-bottom:12px">
      <button class="btn btn-secondary table-choice">B1</button>
      <button class="btn btn-secondary table-choice">B2</button>
    </div>

    <h4>T∆∞·ªùng</h4>
    <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px">
      <button class="btn btn-secondary table-choice">T1</button>
      <button class="btn btn-secondary table-choice">T2</button>
      <button class="btn btn-secondary table-choice">T3</button>
      <button class="btn btn-secondary table-choice">T4</button>
    </div>

    <h4>Gi·ªØa</h4>
    <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px">
      <button class="btn btn-secondary table-choice">G1</button>
      <button class="btn btn-secondary table-choice">G2</button>
      <button class="btn btn-secondary table-choice">G3</button>
      <button class="btn btn-secondary table-choice">G4</button>
    </div>

    <h4>N·ªám</h4>
    <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px">
      <button class="btn btn-secondary table-choice">N1</button>
      <button class="btn btn-secondary table-choice">N2</button>
      <button class="btn btn-secondary table-choice">N3</button>
      <button class="btn btn-secondary table-choice">N4</button>
    </div>
  </div>

  <!-- T·∫ßng l·∫ßu -->
  <div id="upstairs-floor" style="display:none">
    <h4>T·∫ßng l·∫ßu</h4>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
      <button class="btn btn-secondary table-choice">L1</button>
      <button class="btn btn-secondary table-choice">L2</button>
      <button class="btn btn-secondary table-choice">L3</button>
      <button class="btn btn-secondary table-choice">L4</button>
    </div>
  </div>

  <div style="display:flex;gap:8px;margin-top:16px;justify-content:flex-end">
    <button id="cancel-table" class="btn btn-secondary">H·ªßy b√†n</button>
    <button id="confirm-table" class="btn btn-primary">Ch·ªçn b√†n</button>
  </div>
</div>
```

  </div>

  <script src="app.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', ()=>{
      const b = document.getElementById('brand');
      if(b) b.addEventListener('click', ()=>{ backToTables(); });
    });
  </script>

</body>
</html>
